#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

echo "ğŸ“ Running linter..."
if ! bun run lint; then
  echo "âŒ Linting failed! Please fix all linting errors before committing."
  echo "ğŸ’¡ Run 'bun run lint:fix' to automatically fix some issues."
  exit 1
fi

echo "ğŸ”§ Running type checker..."
if ! bun run type-check; then
  echo "âŒ Type checking failed! Please fix all TypeScript errors before committing."
  exit 1
fi

echo "ğŸ§ª Running unit tests..."
if ! bun test; then
  echo "âŒ Unit tests failed! Please fix all failing tests before committing."
  exit 1
fi

echo "âœ… All checks passed! Ready to commit."
