#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ”„ Checking for dependency updates after merge..."

# Check if package.json changed
if git diff HEAD@{1} --name-only | grep -q "package.json"; then
  echo "ğŸ“¦ package.json changed, running dependency install..."
  if ! bun install; then
    echo "âŒ Failed to install dependencies! Please check for issues."
    exit 1
  fi
  echo "âœ… Dependencies updated successfully!"
else
  echo "ğŸ“¦ No package.json changes detected, skipping dependency update."
fi
