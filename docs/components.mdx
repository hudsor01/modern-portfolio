# Component Documentation

This document provides an overview of the key components in the Modern Portfolio project, their usage, and examples.

## UI Components

### OptimizedImage

An enhanced Image component with lazy loading, blur-up effects, and fallback handling.

```tsx
import { OptimizedImage } from '@/components/ui/optimized-image';

// Basic usage
<OptimizedImage
  src="/images/project.jpg"
  alt="Project Image"
  width={400}
  height={300}
/>

// With fallback
<OptimizedImage
  src="/images/project.jpg"
  alt="Project Image"
  width={400}
  height={300}
  fallbackSrc="/images/placeholder.jpg"
/>

// With fill mode for container-based sizing
<div style={{ width: '100%', height: '300px', position: 'relative' }}>
  <OptimizedImage
    src="/images/project.jpg"
    alt="Project Image"
    fill
    sizes="(max-width: 768px) 100vw, 50vw"
  />
</div>
```

### ErrorBoundary

A component that catches JavaScript errors in its child component tree and displays a fallback UI.

```tsx
import { ErrorBoundary } from '@/components/error/error-boundary';

// Basic usage
<ErrorBoundary>
  <ComponentThatMightError />
</ErrorBoundary>

// With custom fallback
<ErrorBoundary
  fallback={<div>Something went wrong</div>}
>
  <ComponentThatMightError />
</ErrorBoundary>

// With error handling function
<ErrorBoundary
  fallback={(error, reset) => (
    <div>
      <p>Error: {error.message}</p>
      <button onClick={reset}>Try again</button>
    </div>
  )}
  onError={(error, errorInfo) => {
    // Log error to service
    console.error(error, errorInfo);
  }}
>
  <ComponentThatMightError />
</ErrorBoundary>
```

### ConsentBanner

A GDPR-compliant consent banner for cookies and tracking.

```tsx
import { ConsentBanner, useConsent } from '@/components/consent/consent-banner';

// In your layout or app component
<ConsentBanner />

// Check if consent is given in a component
function AnalyticsComponent() {
  const analyticsConsent = useConsent('analytics');
  
  if (!analyticsConsent) {
    return null;
  }
  
  return <div>Analytics content</div>;
}
```

## SEO Components

### SEOProvider

A wrapper component that provides SEO metadata and structured data for all pages.

```tsx
import { SEOProvider } from '@/components/seo/seo';

// In your layout
<SEOProvider
  title="Home Page"
  description="Welcome to my portfolio website"
  keywords={['portfolio', 'developer', 'projects']}
>
  <main>{children}</main>
</SEOProvider>

// For blog posts
<SEOProvider
  title="My Blog Post"
  description="This is a blog post about..."
  ogType="article"
  article={{
    publishedTime: "2023-01-01T00:00:00Z",
    modifiedTime: "2023-01-02T00:00:00Z",
    authors: ["John Doe"],
    section: "Technology",
    tags: ["react", "nextjs"]
  }}
>
  <article>{children}</article>
</SEOProvider>
```

### StructuredData

Components for adding structured data to pages.

```tsx
import { 
  WebsiteStructuredData, 
  PersonStructuredData,
  ProjectStructuredData 
} from '@/components/seo/seo';

// In your layout
<WebsiteStructuredData />
<PersonStructuredData />

// On a project page
<ProjectStructuredData 
  project={project} 
  url={`https://example.com/projects/${project.slug}`} 
/>
```

## Analytics Components

### GoogleAnalytics

A component for implementing Google Analytics with privacy controls.

```tsx
import { GoogleAnalytics } from '@/lib/analytics/google-analytics';
import { useConsent } from '@/components/consent/consent-banner';

function AnalyticsProvider({ children }) {
  const analyticsConsent = useConsent('analytics');
  
  return (
    <>
      <GoogleAnalytics consentGiven={analyticsConsent} />
      {children}
    </>
  );
}
```

## Utility Hooks

### useLocalStorage

A hook for persisting state in localStorage with type safety.

```tsx
import { useLocalStorage } from '@/lib/hooks/use-local-storage';

function ThemeToggle() {
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  
  const toggleTheme = () => {
    setTheme(theme === 'light' ? 'dark' : 'light');
  };
  
  return (
    <button onClick={toggleTheme}>
      Current theme: {theme}
    </button>
  );
}
```

## Dynamic Import Utility

### dynamicImport

A utility for code splitting with proper loading states.

```tsx
import { dynamicImport } from '@/lib/utils/dynamic-import';

// Basic usage
const DynamicComponent = dynamicImport(() => import('@/components/heavy-component'));

// With custom loading component
const DynamicComponent = dynamicImport(
  () => import('@/components/heavy-component'),
  { loading: <CustomLoadingSpinner /> }
);

// With server-side rendering
const DynamicComponent = dynamicImport(
  () => import('@/components/heavy-component'),
  { ssr: true }
);
```